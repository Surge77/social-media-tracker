import type { ReactNode } from 'react'
import { Marquee } from '@/components/ui/marquee'

type Source = { name: string; bg: string; logo: ReactNode }

const sources: Source[] = [
  {
    name: 'GitHub',
    bg: '#24292e',
    logo: (
      <svg viewBox="0 0 24 24" fill="white" className="w-3.5 h-3.5 shrink-0">
        <path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12" />
      </svg>
    ),
  },
  {
    name: 'Stack Overflow',
    bg: '#f48024',
    logo: (
      <svg viewBox="0 0 24 24" fill="white" className="w-3.5 h-3.5 shrink-0">
        <path d="M15.725 0l-1.72 1.277 6.39 8.588 1.716-1.277L15.725 0zm-3.94 3.418l-1.369 1.644 8.225 6.85 1.369-1.644-8.225-6.85zm-3.15 4.465l-.905 1.94 9.702 4.517.904-1.94-9.701-4.517zm-1.85 4.86l-.44 2.093 10.473 2.201.44-2.092-10.473-2.203zM1.89 15.47V17.5h10.86v-2.03H1.89zm-.875 4.471v2.03H12.75v-2.03H1.015z" />
      </svg>
    ),
  },
  {
    name: 'Hacker News',
    bg: '#ff6600',
    logo: (
      <svg viewBox="0 0 24 24" fill="white" className="w-3.5 h-3.5 shrink-0">
        <path d="M0 24V0h24v24H0zM6.951 5.896l4.112 7.708v5.064h1.583v-4.972l4.148-7.799h-1.749l-2.457 4.875c-.372.745-.688 1.434-.688 1.434s-.297-.708-.651-1.434L8.831 5.896H6.951z" />
      </svg>
    ),
  },
  {
    name: 'Reddit',
    bg: '#ff4500',
    logo: (
      <svg viewBox="0 0 24 24" fill="white" className="w-3.5 h-3.5 shrink-0">
        <path d="M12 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0zm5.01 4.744c.688 0 1.25.561 1.25 1.249a1.25 1.25 0 0 1-2.498.056l-2.597-.547-.8 3.747c1.824.07 3.48.632 4.674 1.488.308-.309.73-.491 1.207-.491.968 0 1.754.786 1.754 1.754 0 .716-.435 1.333-1.01 1.614a3.111 3.111 0 0 1 .042.52c0 2.694-3.13 4.87-7.004 4.87-3.874 0-7.004-2.176-7.004-4.87 0-.183.015-.366.043-.534A1.748 1.748 0 0 1 4.028 12c0-.968.786-1.754 1.754-1.754.463 0 .898.196 1.207.49 1.207-.883 2.878-1.43 4.744-1.487l.885-4.182a.342.342 0 0 1 .14-.197.35.35 0 0 1 .238-.042l2.906.617a1.214 1.214 0 0 1 1.108-.701zM9.25 12C8.561 12 8 12.562 8 13.25c0 .687.561 1.248 1.25 1.248.687 0 1.248-.561 1.248-1.249 0-.688-.561-1.249-1.249-1.249zm5.5 0c-.687 0-1.248.561-1.248 1.25 0 .687.561 1.248 1.249 1.248.688 0 1.249-.561 1.249-1.249 0-.687-.562-1.249-1.25-1.249zm-5.466 3.99a.327.327 0 0 0-.231.094.33.33 0 0 0 0 .463c.842.842 2.484.913 2.961.913.477 0 2.105-.056 2.961-.913a.361.361 0 0 0 .029-.463.33.33 0 0 0-.464 0c-.547.533-1.684.73-2.512.73-.828 0-1.979-.196-2.512-.73a.326.326 0 0 0-.232-.095z" />
      </svg>
    ),
  },
  {
    name: 'Dev.to',
    bg: '#0a0a0a',
    logo: (
      <svg viewBox="0 0 24 24" fill="white" className="w-3.5 h-3.5 shrink-0">
        <path d="M7.42 10.05c-.18-.16-.46-.23-.84-.23H6l.02 2.44.04 2.45.56-.02c.41 0 .63-.07.83-.26.24-.24.26-.36.26-2.2 0-1.91-.02-1.96-.29-2.18zM0 4.94v14.12h24V4.94H0zM8.56 15.3c-.44.58-1.06.77-2.53.77H4.71V8.53h1.4c1.67 0 2.16.18 2.6.9.27.43.29.6.32 2.57.05 2.23-.02 2.73-.47 3.3zm5.09-5.47h-2.47v1.77h1.52v1.28l-.72.04-.75.03v1.77l1.22.03 1.2.04v1.28h-1.6c-1.53 0-1.6-.01-1.87-.3l-.3-.28v-3.16c0-3.02.01-3.18.25-3.48.23-.31.25-.31 1.88-.31h1.64v1.29zm4.68 5.45c-.17.43-.64.79-1 .79-.18 0-.45-.15-.67-.39-.32-.32-.45-.63-.82-2.08l-.9-3.39-.45-1.67h.76c.4 0 .75.02.75.05 0 .06 1.16 4.54 1.26 4.83.04.15.32-.7.73-2.3l.66-2.52.74-.04c.4-.02.73 0 .73.04 0 .14-1.67 6.38-1.8 6.68z" />
      </svg>
    ),
  },
  {
    name: 'npm',
    bg: '#cb3837',
    logo: (
      <svg viewBox="0 0 24 24" fill="white" className="w-3.5 h-3.5 shrink-0">
        <path d="M1.763 0C.786 0 0 .786 0 1.763v20.474C0 23.214.786 24 1.763 24h20.474c.977 0 1.763-.786 1.763-1.763V1.763C24 .786 23.214 0 22.237 0zM5.13 5.323l13.837.019-.009 13.836h-3.464l.01-10.382h-3.456L11.29 19.178H5.113z" />
      </svg>
    ),
  },
  {
    name: 'Libraries.io',
    bg: '#337ab7',
    logo: (
      <svg viewBox="0 0 24 24" fill="white" className="w-3.5 h-3.5 shrink-0">
        <path d="M21 16.5c0 .38-.21.71-.53.88l-7.9 4.44c-.16.12-.36.18-.57.18-.21 0-.41-.06-.57-.18l-7.9-4.44A.991.991 0 0 1 3 16.5v-9c0-.38.21-.71.53-.88l7.9-4.44c.16-.12.36-.18.57-.18.21 0 .41.06.57.18l7.9 4.44c.32.17.53.5.53.88v9zM12 4.15L6.04 7.5 12 10.85l5.96-3.35L12 4.15zM5 15.91l6 3.38v-6.71L5 9.21v6.7zm8 3.38l6-3.38V9.21l-6 3.37v6.71z" />
      </svg>
    ),
  },
  {
    name: 'Adzuna Jobs',
    bg: '#f97316',
    logo: (
      <svg viewBox="0 0 24 24" fill="white" className="w-3.5 h-3.5 shrink-0">
        <path d="M20 7h-4V5c0-1.103-.897-2-2-2h-4c-1.103 0-2 .897-2 2v2H4c-1.103 0-2 .897-2 2v10c0 1.103.897 2 2 2h16c1.103 0 2-.897 2-2V9c0-1.103-.897-2-2-2zm-8-2h4v2h-4V5zm8 14H4v-7h4v2h2v-2h4v2h2v-2h4v7z" />
      </svg>
    ),
  },
]

function SourceBadge({ source }: { source: Source }) {
  return (
    <div className="flex items-center gap-2 rounded-full border border-border/40 bg-card/50 px-3 py-1.5 sm:px-3.5 sm:py-2 backdrop-blur-sm">
      <div
        className="w-4 h-4 sm:w-5 sm:h-5 rounded-md flex items-center justify-center shrink-0"
        style={{ backgroundColor: source.bg }}
      >
        {source.logo}
      </div>
      <span className="text-xs sm:text-sm font-medium text-muted-foreground whitespace-nowrap">
        {source.name}
      </span>
    </div>
  )
}

export default function DataSourcesMarquee() {
  return (
    <section className="relative overflow-hidden py-6 sm:py-8 border-y border-border/30 bg-gradient-to-r from-background via-muted/10 to-background">
      {/* Fade edges */}
      <div className="pointer-events-none absolute left-0 top-0 z-10 h-full w-12 sm:w-24 bg-gradient-to-r from-background to-transparent" />
      <div className="pointer-events-none absolute right-0 top-0 z-10 h-full w-12 sm:w-24 bg-gradient-to-l from-background to-transparent" />

      <Marquee pauseOnHover className="[--duration:28s] sm:[--duration:24s]" repeat={3}>
        {sources.map(s => (
          <SourceBadge key={s.name} source={s} />
        ))}
      </Marquee>
    </section>
  )
}
